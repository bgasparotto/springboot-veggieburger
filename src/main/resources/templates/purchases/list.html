<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="layout">
<head>
	<title>Purchases</title>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
</head>
<body>
	<div layout:fragment="content">
		<div class="jumbotron">
			<h2>Purchases List</h2>
			<a href="form.html" th:href="@{/purchases/new}">New purchase</a>
			<div class="alert alert-success" 
				th:if="${globalMessage}" th:text="${globalMessage}">
				Message
			</div>
			<table class="table table-bordered table-striped">
				<thead>
					<tr>
						<td>Id</td>
						<td>Customer</td>
						<td>Date</td>
						<td>Total Value</td>
					</tr>
				</thead>
				<tbody>
					<tr th:if="${purchases.empty}">
						<td colspan="3">No entries</td>
					</tr>
					<tr th:each="purchase : ${purchases}">
						<td th:text="${purchase.id}">1</td>
						<td>
							<a href="view.html" 
								th:href="@{'/purchases/'+${purchase.id}}"
								th:text="${purchase.customer.name.firstName + ' ' + purchase.customer.name.lastName}">Name</a>
						</td>
						<td th:text="${#dates.format(purchase.date,'dd/MM/yyyy')}">Date</td>
						<td th:text="${purchase.totalValue}">100.0</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</body>
</html>